{"ast":null,"code":"var _jsxFileName = \"E:\\\\2020-2021\\\\Reactjs\\\\my-shop\\\\src\\\\pages\\\\Shop\\\\Shop.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Axios from 'axios';\nimport { Link, withRouter } from 'react-router-dom';\nimport Navbar from '../../Components/Navbar/Navbar';\nimport Banner from '../../Components/Banner/Banner2';\nimport imgBanner from '../../Assets/S3.jpg';\nimport ShopContent from '../../Components/Shop/ShopContent';\nimport Newsletter from '../../Components/Layouts/NewsLetter';\nimport Footer from '../../Components/Layouts/Footer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Shop(props) {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  const [productCateList, setProductCateList] = useState([]);\n  let sex = props.location.pathname.split('/')[1];\n  let cate = props.location.pathname.split('/')[2];\n  useEffect(() => {\n    if (sex.toLowerCase() === 'shop') {\n      Axios.get('http://localhost:3001/products').then(res => {\n        const cateList = [];\n        const exProducts = [];\n\n        for (let i in res.data) {\n          cateList.push(res.data[i].productCate);\n\n          if (cate) {\n            if (res.data[i].productGroupCate == cate) {\n              exProducts.push(res.data[i]);\n            }\n          } else {\n            exProducts.push(res.data[i]);\n          }\n        }\n\n        let list = cateList.filter(function (elem, index, seft) {\n          return index === seft.indexOf(elem);\n        });\n        setProductCateList(list);\n        setProducts(exProducts);\n      });\n    } else {\n      sex.toLowerCase() === \"men\" ? sex = \"man\" : sex = \"woman\";\n      Axios.get(`http://localhost:3001/products`).then(res => {\n        const exProducts = [];\n\n        for (let i in res.data) {\n          if (sex === \"woman\") {\n            if (res.data[i].productSex === \"Woman\") {\n              exProducts.push(res.data[i]);\n            }\n          } else {\n            if (res.data[i].productSex === \"Man\") {\n              exProducts.push(res.data[i]);\n            }\n          }\n        }\n\n        const exCate = [];\n        const productLists = [];\n\n        for (let i in exProducts) {\n          exCate.push(exProducts[i].productCate);\n        }\n\n        let list = exCate.filter(function (elem, index, seft) {\n          return index === seft.indexOf(elem);\n        });\n        setProductCateList(list);\n\n        for (let i in exProducts) {\n          if (cate) {\n            if (exProducts[i].productGroupCate.toLowerCase().split(' ').join('-') === cate || exProducts[i].productCate.toLowerCase().split(' ').join('-') === cate) {\n              productLists.push(exProducts[i]);\n            }\n          } else {\n            productLists.push(exProducts[i]);\n          }\n        }\n\n        setProducts(productLists);\n      });\n    }\n  }, [sex, cate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Banner, {\n      imgBanner: imgBanner\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ShopContent, {\n      products: products,\n      productCateList: productCateList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Newsletter, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Shop, \"wDDArRAK/39q8rXu6bXng4jR7m4=\");\n\n_c = Shop;\nexport default _c2 = withRouter(Shop);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Shop\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["E:/2020-2021/Reactjs/my-shop/src/pages/Shop/Shop.js"],"names":["React","useState","useEffect","Axios","Link","withRouter","Navbar","Banner","imgBanner","ShopContent","Newsletter","Footer","Shop","props","products","setProducts","productCateList","setProductCateList","sex","location","pathname","split","cate","toLowerCase","get","then","res","cateList","exProducts","i","data","push","productCate","productGroupCate","list","filter","elem","index","seft","indexOf","productSex","exCate","productLists","join"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport Axios from 'axios';\r\nimport{Link, withRouter} from 'react-router-dom'\r\nimport Navbar from '../../Components/Navbar/Navbar';\r\nimport Banner from '../../Components/Banner/Banner2';\r\nimport  imgBanner from '../../Assets/S3.jpg';\r\nimport ShopContent from '../../Components/Shop/ShopContent';\r\nimport Newsletter from '../../Components/Layouts/NewsLetter';\r\nimport Footer from '../../Components/Layouts/Footer';\r\n\r\nfunction Shop(props){\r\n\r\n    const [products, setProducts]=useState([]);\r\n    const [productCateList,setProductCateList]=useState([]);\r\n    let sex =props.location.pathname.split('/')[1];\r\n    let cate=props.location.pathname.split('/')[2];\r\n\r\n   useEffect(() => {\r\n     if(sex.toLowerCase()==='shop'){\r\n         Axios.get('http://localhost:3001/products').then((res)=>{\r\n             const cateList=[];\r\n             const exProducts=[];\r\n             for(let i in res.data){\r\n                 cateList.push(res.data[i].productCate);\r\n                 if(cate){\r\n                     if((res.data[i].productGroupCate)==(cate)){\r\n                         exProducts.push(res.data[i])\r\n                     }\r\n                 }else\r\n                 {\r\n                     exProducts.push(res.data[i])\r\n                 }\r\n             }\r\n            let list=cateList.filter(function(elem,index,seft){\r\n                return index===seft.indexOf(elem);\r\n            }\r\n            );\r\n            setProductCateList(list);    \r\n            setProducts(exProducts);\r\n            \r\n               \r\n        }) \r\n        }\r\n        else\r\n        {\r\n            sex.toLowerCase() === \"men\" ? sex = \"man\" : sex = \"woman\"\r\n            Axios.get(`http://localhost:3001/products`)\r\n                .then(res => {\r\n                    const exProducts = []\r\n                    for (let i in res.data) {\r\n                        if (sex === \"woman\") {\r\n                            if (res.data[i].productSex === \"Woman\") {\r\n                                exProducts.push(res.data[i])\r\n                            } \r\n                        } else {\r\n                            if (res.data[i].productSex === \"Man\") {\r\n                                exProducts.push(res.data[i])\r\n                            } \r\n                        }\r\n                    }\r\n                  const exCate=[];\r\n                  const productLists=[];\r\n                   for(let i in exProducts){\r\n                      exCate.push(exProducts[i].productCate)\r\n                   }\r\n                   let list=exCate.filter(function(elem,index,seft){\r\n                    return index===seft.indexOf(elem);\r\n                   })\r\n                   setProductCateList(list);\r\n                   for(let i in exProducts){\r\n                       if(cate){\r\n                           if(exProducts[i].productGroupCate.toLowerCase().split(' ').join('-') === cate||\r\n                           exProducts[i].productCate.toLowerCase().split(' ').join('-') === cate\r\n                           ){\r\n                                productLists.push(exProducts[i])\r\n                           }\r\n                       }\r\n                       else{\r\n                           productLists.push(exProducts[i])\r\n                       }\r\n                   }\r\n                   setProducts(productLists);\r\n                })\r\n                    \r\n        }\r\n   \r\n     }, [sex,cate])\r\n\r\n    return(\r\n        <div>\r\n            <Navbar/>\r\n            <Banner imgBanner={imgBanner}\r\n            />\r\n            <ShopContent products={products}\r\n                     productCateList={productCateList}\r\n            />\r\n            <Newsletter/>\r\n            <Footer/>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(Shop);"]},"metadata":{},"sourceType":"module"}