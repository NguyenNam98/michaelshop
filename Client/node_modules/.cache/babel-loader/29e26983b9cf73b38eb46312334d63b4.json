{"ast":null,"code":"var _jsxFileName = \"E:\\\\2020-2021\\\\Reactjs\\\\my-shop\\\\src\\\\Components\\\\Home\\\\HomeTab.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport '../../App.css';\nimport HomeTabContent from \"./HomeTabContent.js\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HomeTab() {\n  _s();\n\n  const [currentTab, setCurrentTab] = useState(1);\n  const [isActive, setIsActive] = useState(1);\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    axios.get(`http://pe.heromc.net:4000/products`).then(res => {\n      setProducts(res.data);\n    });\n  }, []); //Get product sold\n\n  let height = 550;\n\n  if (products.length) {\n    products.sort((a, b) => b.productSold - a.productSold);\n\n    if (products.length <= 5) {\n      height = 260;\n    }\n  }\n\n  const dateProductVirtual = [...products];\n  const dateProduct = [];\n\n  if (dateProductVirtual) {\n    dateProductVirtual.sort((a, b) => new Date(b.productDate) - new Date(a.productDate));\n\n    for (let i in dateProductVirtual) {\n      const today = new Date();\n      const productDate = new Date(dateProductVirtual[i].productDate);\n\n      if ((today - productDate) / (1000 * 3600 * 24) < 10) {\n        dateProduct.push(dateProductVirtual[i]);\n      }\n    }\n  } // Get product selling\n\n\n  const sellingProduct = [];\n\n  if (products.length) {\n    for (let i = 0; i < products.length; i++) {\n      if (Number(products[i].productSale) > 0) {\n        sellingProduct.push(products[i]);\n      }\n    }\n\n    if (sellingProduct.length <= 5) {\n      height = 360;\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"HomeTab\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-tab flex-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        onClick: () => {\n          setCurrentTab(1);\n          setIsActive(1);\n        },\n        className: isActive === 1 ? \"home-tab-active\" : \"\",\n        children: \"Best Sellers\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        onClick: () => {\n          setCurrentTab(2);\n          setIsActive(2);\n        },\n        className: isActive === 2 ? \"home-tab-active\" : \"\",\n        children: \"New Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        onClick: () => {\n          setCurrentTab(3);\n          setIsActive(3);\n        },\n        className: isActive === 3 ? \"home-tab-active\" : \"\",\n        children: \"Sales Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tab-content\",\n      children: [// best seller\n      currentTab === 1 && /*#__PURE__*/_jsxDEV(HomeTabContent, {\n        products: products,\n        height: height\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this), // new product\n      currentTab === 2 && /*#__PURE__*/_jsxDEV(HomeTabContent, {\n        products: dateProduct,\n        height: height\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this), // sale product\n      currentTab === 3 && /*#__PURE__*/_jsxDEV(HomeTabContent, {\n        products: sellingProduct,\n        height: height\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n\n_s(HomeTab, \"a2PeM5WNHv3or5ebonLwZWlFfUs=\");\n\n_c = HomeTab;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomeTab\");","map":{"version":3,"sources":["E:/2020-2021/Reactjs/my-shop/src/Components/Home/HomeTab.js"],"names":["React","useEffect","useState","HomeTabContent","axios","HomeTab","currentTab","setCurrentTab","isActive","setIsActive","products","setProducts","get","then","res","data","height","length","sort","a","b","productSold","dateProductVirtual","dateProduct","Date","productDate","i","today","push","sellingProduct","Number","productSale"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport '../../App.css';\r\nimport HomeTabContent from \"./HomeTabContent.js\"\r\nimport axios from 'axios'\r\n\r\nexport default function HomeTab() {\r\n    const [currentTab, setCurrentTab] = useState(1)\r\n    const [isActive, setIsActive] = useState(1)\r\n    const [products, setProducts] = useState([]);\r\n    \r\n    useEffect(() => {\r\n        axios.get(`http://pe.heromc.net:4000/products`)\r\n            .then(res => {\r\n                setProducts(res.data)\r\n            }\r\n        )\r\n    },[])\r\n    \r\n    //Get product sold\r\n    let height = 550;\r\n    if (products.length) {\r\n        products.sort((a,b) =>  b.productSold - a.productSold);\r\n        if (products.length <= 5) {\r\n            height = 260;\r\n        }\r\n    }\r\n\r\n    const dateProductVirtual = [...products];\r\n    const dateProduct = [];\r\n    if (dateProductVirtual) {\r\n        dateProductVirtual.sort((a,b)=> new Date(b.productDate) - new Date(a.productDate));\r\n        for (let i in dateProductVirtual) {\r\n            const today = new Date();\r\n            const productDate = new Date(dateProductVirtual[i].productDate);\r\n            if (((today - productDate)/(1000 * 3600 * 24)) < 10) {\r\n                dateProduct.push(dateProductVirtual[i])\r\n            }\r\n        }\r\n    }\r\n\r\n    // Get product selling\r\n    const sellingProduct = []\r\n    if (products.length) {\r\n        for (let i = 0; i < products.length; i++) {\r\n            if (Number(products[i].productSale) > 0) {\r\n                sellingProduct.push(products[i]);\r\n            }\r\n        }\r\n        if (sellingProduct.length <= 5) {\r\n            height = 360;\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"HomeTab\">\r\n            <div className=\"home-tab flex-center\">\r\n                <p onClick={() => {setCurrentTab(1); setIsActive(1)}} className={isActive === 1 ? \"home-tab-active\" : \"\"}>Best Sellers</p>\r\n                <p onClick={() => {setCurrentTab(2); setIsActive(2)}} className={isActive === 2 ? \"home-tab-active\" : \"\"}>New Products</p>\r\n                <p onClick={() => {setCurrentTab(3); setIsActive(3)}} className={isActive === 3 ? \"home-tab-active\" : \"\"}>Sales Products</p>\r\n            </div>\r\n            <div className=\"tab-content\">\r\n                { // best seller\r\n                    currentTab === 1 && \r\n                    <HomeTabContent \r\n                        products={products}\r\n                        height={height} \r\n                    />\r\n                }\r\n                { // new product\r\n                    currentTab === 2 && \r\n                    <HomeTabContent \r\n                        products={dateProduct}\r\n                        height={height}\r\n                    />\r\n                }\r\n                { // sale product\r\n                    currentTab === 3 && \r\n                    <HomeTabContent \r\n                        products={sellingProduct}\r\n                        height={height}\r\n                    />\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}